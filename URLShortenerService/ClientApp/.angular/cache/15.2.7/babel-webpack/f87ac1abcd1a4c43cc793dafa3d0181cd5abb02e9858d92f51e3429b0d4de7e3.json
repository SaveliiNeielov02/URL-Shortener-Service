{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nlet ShortURLsTableComponent = class ShortURLsTableComponent {\n  constructor(authService, http, baseUrl) {\n    this.authService = authService;\n    this.http = http;\n    this.baseUrl = baseUrl;\n    this.records = [];\n    this.AdditionURL = '';\n    this.updateRecords();\n  }\n  onSubmit() {\n    const url = `${this.baseUrl}urlservice/ShortenURL`;\n    const postData = {\n      LongURL: this.AdditionURL,\n      UserLogin: this.authService.getLogin(),\n      CreatedDate: new Date()\n    };\n    this.http.post(url, postData).subscribe(data => {\n      this.updateRecords();\n      const formattedData = data;\n      alert(formattedData.message);\n    }, error => {\n      const formattedError = error;\n      alert(formattedError.message);\n    });\n  }\n  onDeleteButtonClick(ShortURL) {}\n  updateRecords() {\n    this.http.get(this.baseUrl + 'urlservice/GetRecords').subscribe(result => {\n      this.records = result;\n    }, error => alert(error));\n  }\n};\nShortURLsTableComponent = __decorate([Component({\n  selector: 'app-fetch-data',\n  templateUrl: './short-urls-table.component.html',\n  styleUrls: ['./short-urls-table.component.css']\n}), __param(2, Inject('BASE_URL'))], ShortURLsTableComponent);\nexport { ShortURLsTableComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,eAAe;AAS1C,IAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAGlCC,YAAmBC,WAAwB,EAASC,IAAgB,EAA6BC,OAAe;IAA7F,gBAAW,GAAXF,WAAW;IAAsB,SAAI,GAAJC,IAAI;IAAyC,YAAO,GAAPC,OAAO;IAFjG,YAAO,GAAgB,EAAE;IACzB,gBAAW,GAAW,EAAE;IAE7B,IAAI,CAACC,aAAa,EAAE;EACtB;EACAC,QAAQ;IACN,MAAMC,GAAG,GAAG,GAAG,IAAI,CAACH,OAAO,uBAAuB;IAClD,MAAMI,QAAQ,GAAE;MACdC,OAAO,EAAE,IAAI,CAACC,WAAW;MACzBC,SAAS,EAAE,IAAI,CAACT,WAAW,CAACU,QAAQ,EAAE;MACtCC,WAAW,EAAE,IAAIC,IAAI;KACtB;IAED,IAAI,CAACX,IAAI,CAACY,IAAI,CAAMR,GAAG,EAAEC,QAAQ,CAAC,CAACQ,SAAS,CAC1CC,IAAI,IAAG;MACL,IAAI,CAACZ,aAAa,EAAE;MACpB,MAAMa,aAAa,GAAGD,IAA2B;MACjDE,KAAK,CAACD,aAAa,CAACE,OAAO,CAAC;IAC9B,CAAC,EACDC,KAAK,IAAG;MACN,MAAMC,cAAc,GAAGD,KAA4B;MACnDF,KAAK,CAACG,cAAc,CAACF,OAAO,CAAC;IAC/B,CAAC,CACF;EACH;EACOG,mBAAmB,CAACC,QAAgB,GAE3C;EACQnB,aAAa;IAEnB,IAAI,CAACF,IAAI,CAACsB,GAAG,CAAc,IAAI,CAACrB,OAAO,GAAG,uBAAuB,CAAC,CAACY,SAAS,CAC1EU,MAAM,IAAG;MACP,IAAI,CAACC,OAAO,GAAGD,MAAM;IACvB,CAAC,EACDL,KAAK,IAAIF,KAAK,CAACE,KAAK,CAAC,CAAC;EAC1B;CACD;AArCYrB,uBAAuB,eALnCF,SAAS,CAAC;EACT8B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,mCAAmC;EAChDC,SAAS,EAAE,CAAC,kCAAkC;CAC/C,CAAC,EAIuEC,iBAAM,CAAC,UAAU,CAAC,IAH9E/B,uBAAuB,CAqCnC;SArCYA,uBAAuB","names":["Component","Inject","ShortURLsTableComponent","constructor","authService","http","baseUrl","updateRecords","onSubmit","url","postData","LongURL","AdditionURL","UserLogin","getLogin","CreatedDate","Date","post","subscribe","data","formattedData","alert","message","error","formattedError","onDeleteButtonClick","ShortURL","get","result","records","selector","templateUrl","styleUrls","__param"],"sourceRoot":"","sources":["E:\\VisualStudio2022\\URLShortenerService\\URLShortenerService\\ClientApp\\src\\app\\short-urls-table\\short-urls-table.component.ts"],"sourcesContent":["import { Component, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AuthService } from '../auth-service/auth-service';\r\n\r\n@Component({\r\n  selector: 'app-fetch-data',\r\n  templateUrl: './short-urls-table.component.html',\r\n  styleUrls: ['./short-urls-table.component.css']\r\n})\r\nexport class ShortURLsTableComponent {\r\n  public records: URLRecord[] = [];\r\n  public AdditionURL: string = '';\r\n  constructor(public authService: AuthService, public http: HttpClient, @Inject('BASE_URL') public baseUrl: string) {\r\n    this.updateRecords();\r\n  }\r\n  onSubmit() {\r\n    const url = `${this.baseUrl}urlservice/ShortenURL`;\r\n    const postData= {\r\n      LongURL: this.AdditionURL,\r\n      UserLogin: this.authService.getLogin(),\r\n      CreatedDate: new Date(),\r\n    };\r\n\r\n    this.http.post<any>(url, postData).subscribe(\r\n      data => {\r\n        this.updateRecords();\r\n        const formattedData = data as { message: string };\r\n        alert(formattedData.message);\r\n      },\r\n      error => {\r\n        const formattedError = error as { message: string };\r\n        alert(formattedError.message);\r\n      }\r\n    )\r\n  }\r\n  public onDeleteButtonClick(ShortURL: string){\r\n\r\n  }\r\n  private updateRecords()\r\n  {\r\n    this.http.get<URLRecord[]>(this.baseUrl + 'urlservice/GetRecords').subscribe(\r\n      result => {\r\n        this.records = result;\r\n      },\r\n      error => alert(error));\r\n  }\r\n}\r\n\r\ninterface URLRecord {\r\n  ShortURL?: string;\r\n  LongURL: string;\r\n  UserLogin: string;\r\n  CreatedDate: Date,\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}